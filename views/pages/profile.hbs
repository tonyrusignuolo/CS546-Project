{{#> layouts/main}}
{{#*inline "page-header"}}
<div class="page-header header-filter" data-parallax="true" style="background-image: url('../assets/img/bg3.jpg');">
</div>
{{/inline}}

{{#*inline "main-block"}}
<div class="main main-raised">
	<div class="profile-content">
		<div class="container">
			<div class="row">
				<div class="col-md-6 ml-auto mr-auto">
					<div class="profile">
						<div class="avatar">
							{{#if user.photo }}
							<img src="{{user.photo}}" alt="Circle Image" class="img-raised rounded-circle img-fluid">
							{{else}}
							<img src="../assets/img/Stevens/Attila.png" alt="Circle Image" class="img-fluid">
							{{/if}}
						</div>

						<div class="name">
							<h3 class="title">{{user.firstName}} {{user.lastName}}</h3>
							<br>
							<button class="btn btn-primary btn-round btn-profile-edit" data-toggle="modal" data-target="#profileEdit">
								<i class="material-icons">edit</i>
							</button>
							<h6>{{user.email}}</h6>
						</div>
					</div>
				</div>
			</div>

			<div class="description text-center">
				<p>Insurance Provider: {{user.insuranceProvider}}</p>
			</div>

			<div class="row">
				<div class="col-md-6 ml-auto mr-auto">
					<div class="profile-tabs">
						<ul class="nav nav-pills nav-pills-icons justify-content-center" role="tablist">
							<li class="nav-item">
								<a class="nav-link active" href="#appointments" role="tab" data-toggle="tab">
									<i class="material-icons">schedule</i> Appointments
								</a>
							</li>
						</ul>
					</div>
				</div>
			</div>



			{{!-- Content to show when icons are selected based on id. Made clear seperation --}}

			<div class="tab-pane active text-center gallery" id="appointments">
				<div class="row">
					<div class="col-md-12 ml-auto">
						<a class="btn btn-primary btn-fab btn-fab-mini btn-round" href="/map">
							<i class="material-icons">add</i>
						</a>
						<table class="table" id="appointmentsTable">
							<thead>
								<tr>
									<th class="text-center">User Id</th>
									<th>User Email</th>
									<th>Practitioner Id</th>
									<th>Practitioner Name</th>
									<th>Insurance</th>
									<th>Procedure</th>
									<th>Cost Seen</th>
									<th>Verification</th>
									<th>Actions</th>
								</tr>
							</thead>
							<tbody>
								{{#each appointments}}
								<tr id="appointmentRow" name="{{this._id}}">
									<td class="text-center">{{this.userId}}</td>
									<td>{{this.useremail}}</td>
									<td>{{this.practitionerId}}</td>
									<td>{{this.practitionerName}}</td>
									<td>{{this.insurance}}</td>
									<td>{{this.procedureInterest}}</td>
									<td>{{this.costSeen}}</td>
									<td>{{this.verification}}</td>
									<td class="td-actions text-right">
										<button type="button" rel="tooltip"
											class="btn btn-success btn-appointment-edit">
											<i class="material-icons">edit</i>
										</button>
										<button type="button" rel="tooltip"
											class="btn btn-danger btn-appointment-delete">
											<i class="material-icons">close</i>
										</button>
									</td>
								</tr>
								{{/each}}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{{/inline}}

{{#*inline "modals-block"}}
{{> modals/appointment/create}}
{{> modals/profile/edit}}
{{/inline}}

{{#*inline "scripts-block"}}
<script src="/public/common.js" type="text/javascript"></script>
{{/inline}}

{{/layouts/main}}